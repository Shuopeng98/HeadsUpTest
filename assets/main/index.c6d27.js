window.__require=function t(i,e,o){function s(n,c){if(!e[n]){if(!i[n]){var r=n.split("/");if(r=r[r.length-1],!i[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+n+"'")}n=r}var d=e[n]={exports:{}};i[n][0].call(d.exports,function(t){return s(i[n][1][t]||t)},d,d.exports,t,i,e,o)}return e[n].exports}for(var a="function"==typeof __require&&__require,n=0;n<o.length;n++)s(o[n]);return s}({Btn_Choice:[function(t,i,e){"use strict";cc._RF.push(i,"7dbafkK025IboelvcfDskbW","Btn_Choice"),cc.Class({extends:cc.Component,properties:{maxTimerNum:0,maxWordClips:8},onLoad:function(){this.timer=0,this.clip=0},start:function(){this.dataNode=cc.find("dataNode").getComponent("Data_Choice")},update:function(t){},onChooseTime:function(t,i){this.timer=parseInt(i)<=this.maxTimerNum?parseInt(i):this.maxTimerNum,this.dataNode.SetDataTimer(this.timer),cc.director.loadScene("Game")},onChooseWords:function(t,i){this.clip=parseInt(i)<this.maxWordClips?parseInt(i):0,this.dataNode.SetDataWordClip(this.clip),cc.director.loadScene("TimeChoice")},onClickButton:function(t,i){switch(i){case"backToHome":this.dataNode.RemoveDataNode(),cc.director.loadScene("Home");break;case"backToWords":cc.director.loadScene("WordsChoice")}}}),cc._RF.pop()},{}],Btn_Home:[function(t,i,e){"use strict";cc._RF.push(i,"7f6acCROjxE26SDeh/DKfBo","Btn_Home"),cc.Class({extends:cc.Component,properties:{intro_content:cc.Node,dataNode:cc.Node,spinLabel:cc.Label},onLoad:function(){if(window.DeviceOrientationEvent){console.log("true");var t=this;window.ondeviceorientation=function(i){console.log(i.alpha+" : "+i.beta+" : "+i.gamma),t.onDeviceMotionEvent(i)}}else console.log("\u4e0d\u652f\u6301\u9640\u87ba\u4eea")},onDeviceMotionEvent:function(t){this.spinLabel.string="\u65cb\u8f6c\u89d2\u5ea6\uff1a z "+t.gamma},start:function(){},update:function(t){},onClickButton:function(t,i){switch(i){case"start":cc.director.loadScene("WordsChoice");break;case"intro_open":this.intro_content.active=!0;break;case"intro_close":this.intro_content.active=!1}}}),cc._RF.pop()},{}],Data_Choice:[function(t,i,e){"use strict";cc._RF.push(i,"55873AK4ABKf7ILDH4lrsdF","Data_Choice"),cc.Class({extends:cc.Component,properties:{timerMax:0,wordClip:0},onLoad:function(){cc.game.addPersistRootNode(this.node)},RemoveDataNode:function(){cc.game.removePersistRootNode(this.node)},GetDataTimer:function(){return cc.log(this.timerMax),this.timerMax},SetDataTimer:function(t){return this.timerMax=t,cc.log(this.timerMax),this.timerMax},GetDataWordClip:function(){return cc.log(this.wordClip),this.wordClip},SetDataWordClip:function(t){return this.wordClip=t,cc.log(this.wordClip),this.wordClip}}),cc._RF.pop()},{}],GameManager:[function(t,i,e){"use strict";cc._RF.push(i,"6bb24nimbZOFIcX0Ju7vH9m","GameManager"),cc.Class({extends:cc.Component,properties:{timerLabel:cc.Label,tipLayout:cc.Node,readyLayout:cc.Node,finishLayout:cc.Node,gameLayout:cc.Node,pauseLayout:cc.Node,finishLabel:cc.Label,finishStr1:"",finishStr2:"",wordLabel:cc.Label,spinLabel:cc.Label,wordNumLabel:cc.Label},onLoad:function(){this.dataNode=cc.find("dataNode").getComponent("Data_Choice");var t=this;window.addEventListener("deviceorientation",function(i){cc.log("spin!!!!"),t.onDeviceMotionEvent(i)},!0)},handleOrientation:function(t){this.spinLabel.string="\u65cb\u8f6c\u89d2\u5ea6\uff1a z "+this.toDecimal(t.gamma)},start:function(){this.nowTimer=this.dataNode.GetDataTimer(),this.wordClipNum=this.dataNode.GetDataWordClip(),this.ReadJson(),this.gameLayout.active=!1,this.pauseLayout.active=!1,this.readyLayout.active=!0,this.tipLayout.active=!1,this.finishLayout.active=!1,this.nowState=0,this.isTiming=!1,this.isOver=!1,this.wordsAllNum=1,this.wordsCorretNum=0,this.maxUp=20,this.minUp=60,this.maxDown=140,this.minDown=110,this.flipState=-1,this.lastNum=-1,this.isPause=!1},update:function(t){!this.isTiming||this.isOver||this.isPause||(this.nowTimer-=t,this.nowTimer<=0?(this.isOver=!0,this.timerLabel.string="0 \u79d2",this.GameOver()):this.timerLabel.string=Math.ceil(this.nowTimer).toString()+" \u79d2"),this.wordClip.length<=0&&this.GameOver()},onDestroy:function(){"undefined"!=typeof wx&&(console.log("\u505c\u6b62\u76d1\u542c\u52a0\u901f\u5668"),wx.stopDeviceMotionListening(),wx.offDeviceMotionChange())},GameOver:function(){this.finishLayout.active||(this.finishLayout.active=!0),this.gameLayout.active=!1,this.isPause=!1,this.finishLabel.string=""+this.wordsCorretNum},onDeviceMotionEvent:function(t){this.spinLabel.string="\u65cb\u8f6c\u89d2\u5ea6\uff1a z "+this.toDecimal(t.gamma);var i=this.toDecimal(t.gamma);i<0||0==this.nowState||this.isPause||(i<this.minDown&&i>this.minUp&&(this.flipState=0),0==this.flipState&&(i>this.maxDown?(this.flipState=1,this.Btn_FlipDown()):i<this.maxUp&&(this.flipState=-1,this.Btn_FlipUp())))},ReadJson:function(){var t=this;cc.resources.load("Dictionary0",function(i,e){switch(t.wordClipNum){case 0:t.wordClip=e.json.A0007.Words;break;case 1:t.wordClip=e.json.A0006.Words;break;case 2:t.wordClip=e.json.A0005.Words;break;case 3:t.wordClip=e.json.A0009.Words;break;case 4:t.wordClip=e.json.A0003.Words;break;case 5:t.wordClip=e.json.A0001.Words;break;case 6:t.wordClip=e.json.A0004.Words;break;case 7:t.wordClip=e.json.A00011.Words}})},GetNewWord:function(){var t=Math.floor(Math.random()*this.wordClip.length);this.lastNum=t,this.wordLabel.string=this.wordClip[t],this.wordClip.splice(t,1)},toDecimal:function(t){return isNaN(t)?-1:Math.round(1e3*Math.abs(t))/1e3},Btn_FlipDown:function(){if(!this.isOver)switch(this.nowState){case 1:this.gameLayout.active=!0,this.tipLayout.active&&(this.tipLayout.active=!1),this.nowState=2,this.isTiming=!0,this.GetNewWord(),this.wordNumLabel.string=this.wordsAllNum,this.timerLabel.string=this.nowTimer.toString()+" \u79d2";break;case 2:this.wordsAllNum++,this.wordsCorretNum++,this.wordNumLabel.string=this.wordsAllNum,this.GetNewWord(),cc.log(this.wordsAllNum+" "+this.wordsCorretNum)}},Btn_FlipUp:function(){this.isOver||2!=this.nowState||2==this.nowState&&(this.wordsAllNum++,this.GetNewWord(),cc.log(this.wordsAllNum+" "+this.wordsCorretNum))},onClickButton:function(t,i){switch(i){case"again":cc.director.loadScene("Game");break;case"Home":this.dataNode.RemoveDataNode(),cc.director.loadScene("Home");break;case"ready":this.readyLayout.active&&(this.readyLayout.active=!1),this.tipLayout.active||(this.tipLayout.active=!0),this.nowState=1;break;case"back":cc.director.loadScene("TimeChoice");break;case"pause":this.isPause=!this.isPause,this.pauseLayout.active=this.isPause}}}),cc._RF.pop()},{}]},{},["Btn_Choice","Btn_Home","Data_Choice","GameManager"]);